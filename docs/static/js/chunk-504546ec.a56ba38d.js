(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-504546ec"],{1:function(e,t){},2:function(e,t){},3:function(e,t){},"429a":function(e,t){function i(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="429a"},"5cc6":function(e,t,i){var n=i("74e8");n("Uint8",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},c19f:function(e,t,i){"use strict";var n=i("23e7"),a=i("da84"),r=i("621a"),l=i("2626"),o="ArrayBuffer",s=r[o],c=a[o];n({global:!0,forced:c!==s},{ArrayBuffer:s}),l(o)},cfc3:function(e,t,i){var n=i("74e8");n("Float32",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},da62:function(e,t,i){"use strict";(function(e){i("c19f"),i("ace4"),i("a9e3"),i("b64b"),i("d3b7"),i("ac1f"),i("5319"),i("498a"),i("cfc3"),i("5cc6"),i("fb2c"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7");t["a"]={data:function(){return{viewer:null,polyline:null,polygon:null,viewModel:null}},mounted:function(){this.init(e)},methods:{init:function(e){this.viewer=new e.Viewer("cesiumContainer",{animation:!1,homeButton:!0,geocoder:!0,baseLayerPicker:!0,timeline:!0,fullscreenButton:!0,scene3DOnly:!1,infoBox:!0,sceneModePicker:!0,navigationInstructionsInitiallyVisible:!0,navigationHelpButton:!0,selectionIndicator:!0,imageryProvider:new e.WebMapTileServiceImageryProvider({url:"http://t0.tianditu.com/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=19b72f6cde5c8b49cf21ea2bb4c5b21e",layer:"tdtBasicLayer",style:"default",format:"image/jpeg",tileMatrixSetID:"GoogleMapsCompatible",show:!1,mininumLevel:0,maximumLevel:16})});var t=-3.82518,i=53.11728,n=72.8,a=e.Cartesian3.fromDegrees(t,i,n),r="/SampleData/ParcLeadMine.glb";this.viewer.entities.add({name:r,position:a,model:{uri:r}});this.polygon=this.viewer.entities.add({polygon:{hierarchy:new e.PolygonHierarchy(e.Cartesian3.fromDegreesArrayHeights([-3.8152789692233817,53.124521420389996,200.20779492422255,-3.8165955002619016,53.12555934545405,205.85834336951655,-3.8201599842222054,53.12388420656903,230.82362697069453,-3.8198667503545027,53.123748567587455,225.53297006293968,-3.8190548496317476,53.1240486000822,221.82677773619432,-3.817536387097508,53.122763476393764,209.94136782255705,-3.8169125359199336,53.12285547981627,210.96626238861327,-3.8166873871853073,53.12299403424474,211.02223937734595,-3.8163695374580873,53.12300505277307,211.25942926271824,-3.8162743040622313,53.12281471203994,212.35109129094147,-3.8159746138174193,53.12280996651767,214.87977416348798,-3.815429896849304,53.1236135347983,209.72496223706005])),material:e.Color.LIME.withAlpha(.5),classificationType:e.ClassificationType.TERRAIN}}),this.polyline=this.viewer.entities.add({polyline:{positions:e.Cartesian3.fromDegreesArrayHeights([-3.8098444201746373,53.1190304262546,286.1875170545701,-3.8099801237370663,53.119539531697576,288.7733884242394,-3.810165716635671,53.11979180761567,290.9294630315179,-3.8104840812145357,53.12007534956926,292.6392327626228,-3.8105689502073554,53.120259094792196,292.222036965774,-3.811027311824268,53.120409248874196,289.61356291617307,-3.811530473295422,53.12063281057782,284.01098712543586,-3.8120545342562693,53.120742539082435,280.118191867836,-3.812444493044727,53.120813289759326,276.0400221387852,-3.812779626711285,53.12094275348024,271.1187399484896,-3.8133560322579494,53.12104757866638,263.3495497598578,-3.8137266493960085,53.12120789867194,257.73878624321316,-3.8142552291751133,53.121321248522904,251.87265828778177,-3.814322603988525,53.12174170121103,238.7082749547689,-3.8143764268391314,53.1219492923309,235.0371831845662,-3.8148156514145786,53.12210819668669,230.2458816627467,-3.8155394721966163,53.1222990144029,221.33319292262706,-3.8159828072920927,53.12203093429715,223.66664756982703,-3.816678108944717,53.12183939425214,223.8787312412801,-3.817466081093726,53.121751900508535,224.52293229989735,-3.8183082996527955,53.12173266141031,223.3672181535749]),width:8,material:new e.PolylineOutlineMaterialProperty({color:e.Color.YELLOW,outlineWidth:2,outlineColor:e.Color.BLACK}),clampToGround:!0}}),this.viewModel={translucencyEnabled:!0,fadeByDistance:!0,showVectorData:!1,alpha:.5},e.knockout.track(this.viewModel);var l=document.getElementById("toolbar");for(var o in e.knockout.applyBindings(this.viewModel,l),this.viewModel)this.viewModel.hasOwnProperty(o)&&e.knockout.getObservable(this.viewModel,o).subscribe(this.update);this.update(),this.viewer.scene.camera.setView({destination:new e.Cartesian3(3826465.9884728403,-254831.02751468265,5081387.671561018),orientation:new e.HeadingPitchRoll(3.3889450556243754,-.5276382514771969,6.282272566663295),endTransform:e.Matrix4.IDENTITY}),this.viewer.scene.camera.flyTo({destination:new e.Cartesian3(3827270.552916987,-255123.18143177085,5079147.091351856),orientation:new e.HeadingPitchRoll(3.2624281242239963,-.22213535190506972,6.282786783842843),duration:5})},update:function(){this.viewer.scene.globe.translucency.enabled=this.viewModel.translucencyEnabled;var t=Number(this.viewModel.alpha);t=isNaN(t)?1:t,t=e.Math.clamp(t,0,1),this.viewer.scene.globe.translucency.frontFaceAlphaByDistance=t,this.viewer.scene.globe.translucency.frontFaceAlphaByDistance.farValue=this.viewModel.fadeByDistance?1:t,this.polygon.show=this.viewModel.showVectorData,this.polyline.show=this.viewModel.showVectorData},createArcGisElevation3DTerrainProvider:function(e){var t=this;function i(i){i=e.defaultValue(i,{}),this._tilingScheme=new e.WebMercatorTilingScheme({ellipsoid:i.ellipsoid}),this._terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:65},this.lerc=t.LERC(),this._levelZeroMaximumGeometricError=e.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,65,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._baseUrl="https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer/tile/{z}/{y}/{x}",this._errorEvent=new e.Event,this._readyPromise=e.when.resolve(!0)}return Object.defineProperties(i.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),i.prototype.requestTileGeometry=function(t,i,n){var a=this._baseUrl.replace("{z}",n).replace("{x}",t).replace("{y}",i),r=this,l=e.Resource.createIfNeeded(a);return l.fetchArrayBuffer().then((function(t){var i,n,a,l=r.lerc.decode(t,{returnMask:!0});a=l.width,l.height,l.minValue,l.maxValue,i=l.pixelData,n=l.maskData;for(var o=65,s=4,c=o,u=o,f=(t=new Float32Array(c*u),0);f<u;f++)for(var d=0;d<c;d++)n&&0==n[f*a*s+d*s]?t[f*c+d]=0:(t[f*c+d]=i[f*a*s+d*s]);return new e.HeightmapTerrainData({buffer:t,width:c,height:u,structure:r._terrainDataStructure})})).otherwise((function(e){}))},i.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},i.prototype.getTileDataAvailable=function(e,t,i){},new i},LERC:function(){var e={defaultNoDataValue:-34027999387901484e22,decode:function(r,l){l=l||{};var o=l.encodedMaskData||null===l.encodedMaskData,s=a(r,l.inputOffset||0,o),c=null!=l.noDataValue?l.noDataValue:e.defaultNoDataValue,u=t(s,l.pixelType||Float32Array,l.encodedMaskData,c,l.returnMask),f={width:s.width,height:s.height,pixelData:u.resultPixels,minValue:s.pixels.minValue,maxValue:s.pixels.maxValue,noDataValue:c};return u.resultMask&&(f.maskData=u.resultMask),l.returnEncodedMask&&s.mask&&(f.encodedMaskData=s.mask.bitset?s.mask.bitset:null),l.returnFileInfo&&(f.fileInfo=i(s),l.computeUsedBitDepths&&(f.fileInfo.bitDepths=n(s))),f}},t=function(e,t,i,n,a){var l,o,s=0,c=e.pixels.numBlocksX,u=e.pixels.numBlocksY,f=Math.floor(e.width/c),d=Math.floor(e.height/u),h=2*e.maxZError;i=i||(e.mask?e.mask.bitset:null),l=new t(e.width*e.height),a&&i&&(o=new Uint8Array(e.width*e.height));for(var m,g,p=new Float32Array(f*d),w=0;w<=u;w++){var v=w!==u?d:e.height%u;if(0!==v)for(var y=0;y<=c;y++){var k=y!==c?f:e.width%c;if(0!==k){var x,b,M,B,D=w*e.width*d+y*f,V=e.width-k,P=e.pixels.blocks[s];if(P.encoding<2?(0===P.encoding?x=P.rawData:(r(P.stuffedData,P.bitsPerPixel,P.numValidPixels,P.offset,h,p,e.pixels.maxValue),x=p),b=0):M=2===P.encoding?0:P.offset,i)for(g=0;g<v;g++){for(7&D&&(B=i[D>>3],B<<=7&D),m=0;m<k;m++)7&D||(B=i[D>>3]),128&B?(o&&(o[D]=1),l[D++]=P.encoding<2?x[b++]:M):(o&&(o[D]=0),l[D++]=n),B<<=1;D+=V}else if(P.encoding<2)for(g=0;g<v;g++){for(m=0;m<k;m++)l[D++]=x[b++];D+=V}else for(g=0;g<v;g++){for(m=0;m<k;m++)l[D++]=M;D+=V}if(1===P.encoding&&b!==P.numValidPixels)throw"Block and Mask do not match";s++}}}return{resultPixels:l,resultMask:o}},i=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,minValue:e.pixels.minValue,noDataValue:this.noDataValue}}},n=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,i={},n=0;n<t;n++){var a=e.pixels.blocks[n];0===a.encoding?i.float32=!0:1===a.encoding?i[a.bitsPerPixel]=!0:i[0]=!0}return Object.keys(i)},a=function(e,t,i){var n={},a=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,a),"CntZImage"!=n.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+=10;var r=new DataView(e,t,24);if(n.fileVersion=r.getInt32(0,!0),n.imageType=r.getInt32(4,!0),n.height=r.getUint32(8,!0),n.width=r.getUint32(12,!0),n.maxZError=r.getFloat64(16,!0),t+=24,!i)if(r=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=r.getUint32(0,!0),n.mask.numBlocksX=r.getUint32(4,!0),n.mask.numBytes=r.getUint32(8,!0),n.mask.maxValue=r.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var l=new Uint8Array(Math.ceil(n.width*n.height/8));r=new DataView(e,t,n.mask.numBytes);var o=r.getInt16(0,!0),s=2,c=0;do{if(o>0)while(o--)l[c++]=r.getUint8(s++);else{var u=r.getUint8(s++);o=-o;while(o--)l[c++]=u}o=r.getInt16(s,!0),s+=2}while(s<n.mask.numBytes);if(-32768!==o||c<l.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset=l,t+=n.mask.numBytes}else if(0==(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)){l=new Uint8Array(Math.ceil(n.width*n.height/8));n.mask.bitset=l}r=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=r.getUint32(0,!0),n.pixels.numBlocksX=r.getUint32(4,!0),n.pixels.numBytes=r.getUint32(8,!0),n.pixels.maxValue=r.getFloat32(12,!0),t+=16;var f=n.pixels.numBlocksX,d=n.pixels.numBlocksY,h=f+(n.width%f>0?1:0),m=d+(n.height%d>0?1:0);n.pixels.blocks=new Array(h*m);for(var g=1e9,p=0,w=0;w<m;w++)for(var v=0;v<h;v++){var y=0,k=e.byteLength-t;r=new DataView(e,t,Math.min(10,k));var x={};n.pixels.blocks[p++]=x;var b=r.getUint8(0);if(y++,x.encoding=63&b,x.encoding>3)throw"Invalid block encoding ("+x.encoding+")";if(2!==x.encoding){if(0!==b&&2!==b){if(b>>=6,x.offsetType=b,2===b)x.offset=r.getInt8(1),y++;else if(1===b)x.offset=r.getInt16(1,!0),y+=2;else{if(0!==b)throw"Invalid block offset type";x.offset=r.getFloat32(1,!0),y+=4}if(g=Math.min(x.offset,g),1===x.encoding)if(b=r.getUint8(y),y++,x.bitsPerPixel=63&b,b>>=6,x.numValidPixelsType=b,2===b)x.numValidPixels=r.getUint8(y),y++;else if(1===b)x.numValidPixels=r.getUint16(y,!0),y+=2;else{if(0!==b)throw"Invalid valid pixel count type";x.numValidPixels=r.getUint32(y,!0),y+=4}}var M,B;if(t+=y,3!=x.encoding)if(0===x.encoding){var D=(n.pixels.numBytes-1)/4;if(D!==Math.floor(D))throw"uncompressed block has invalid length";M=new ArrayBuffer(4*D),B=new Uint8Array(M),B.set(new Uint8Array(e,t,4*D));for(var V=new Float32Array(M),P=0;P<V.length;P++)g=Math.min(g,V[P]);x.rawData=V,t+=4*D}else if(1===x.encoding){var U=Math.ceil(x.numValidPixels*x.bitsPerPixel/8),A=Math.ceil(U/4);M=new ArrayBuffer(4*A),B=new Uint8Array(M),B.set(new Uint8Array(e,t,U)),x.stuffedData=new Uint32Array(M),t+=U}}else t++,g=Math.min(g,0)}return n.pixels.minValue=g,n.eofOffset=t,n},r=function(e,t,i,n,a,r,l){var o,s,c,u=(1<<t)-1,f=0,d=0,h=Math.ceil((l-n)/a),m=4*e.length-Math.ceil(t*i/8);for(e[e.length-1]<<=8*m,o=0;o<i;o++){if(0===d&&(c=e[f++],d=32),d>=t)s=c>>>d-t&u,d-=t;else{var g=t-d;s=(c&u)<<g&u,c=e[f++],d=32-g,s+=c>>>d}r[o]=s<h?n+s*a:l}return r};return e}}}}).call(this,i("ec35"))},fb2c:function(e,t,i){var n=i("74e8");n("Uint32",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},fe25:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{}},[i("div",{attrs:{id:"cesiumContainer"}},[i("div",{attrs:{id:"toolbar"}},[i("table",[i("tbody",[i("tr",[i("td",[e._v("Translucency enabled")]),i("td",[i("input",{attrs:{type:"checkbox","data-bind":"checked: translucencyEnabled"}})])]),i("tr",[i("td",[e._v("Fade by distance")]),i("td",[i("input",{attrs:{type:"checkbox","data-bind":"checked: fadeByDistance"}})])]),i("tr",[i("td",[e._v("Show vector data")]),i("td",[i("input",{attrs:{type:"checkbox","data-bind":"checked: showVectorData"}})])]),i("tr",[i("td",[e._v("Alpha")]),i("td",[i("input",{attrs:{type:"range",min:"0.0",max:"1.0",step:"0.1","data-bind":"value: alpha, valueUpdate: 'input'"}}),i("input",{attrs:{type:"text",size:"5","data-bind":"value: alpha"}})])])])])])])])}],r=i("da62"),l=r["a"],o=i("2877"),s=Object(o["a"])(l,n,a,!1,null,null,null);t["default"]=s.exports}}]);